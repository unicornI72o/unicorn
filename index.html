<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>遗忘的记忆</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.7/gsap.min.js"></script>
  </head>
  <body class="flex min-h-screen flex-col justify-between bg-gray-100">
    <div class="flex-grow"></div>
    <div class="mx-auto max-w-[50ch] p-6" id="memories">
      <div class="space-y-4 text-black/80" id="typewriter">
        <p>
          <span></span>
        </p>
        <p><span>一触即碎的肥皂泡</span></p>
        <p><span>也要托起小小愿望</span></p>
        <p><span>飞越风雨,飞向太阳</span></p>
        <p><span>绽放她的幻彩流光</span></p>
      </div>
    </div>
    <div class="flex-grow"></div>
    <footer class="mt-6 p-4 text-center text-xs text-black/40">
      <div class="flex flex-col gap-2">
        <div>海风温和 菲比啾比</div>
      </div>
    </footer>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const typewriter = document.getElementById('typewriter')
        const lines = typewriter.querySelectorAll('p span')

        gsap.set(lines, { autoAlpha: 1 })

        const tl = gsap.timeline()

        lines.forEach((line, index) => {
          const chars = line.textContent.split('')
          line.textContent = ''
          chars.forEach((char) => {
            const span = document.createElement('span')
            span.textContent = char
            span.style.opacity = '0'
            span.style.display = 'inline-block'
            line.appendChild(span)
          })

          const charSpans = line.querySelectorAll('span')
          tl.to(
            charSpans,
            {
              opacity: 1,
              y: 0,
              duration: 1.2,
              stagger: {
                each: 0.08,
                ease: 'power1.in'
              },
              ease: 'elastic.out(1, 0.3)'
            },
            '-=0.9'
          )

          if (index < lines.length - 1) {
            tl.to({}, { duration: 0.5 })
          }
        })

        gsap.set(typewriter.querySelectorAll('p span span'), {
          opacity: 0,
          y: 20
        })
      })
    </script>
  </body>
</html>

